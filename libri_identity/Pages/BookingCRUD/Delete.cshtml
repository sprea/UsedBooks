@page
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@model libri_identity.Pages.BookingCRUD.DeleteModel

@{
    ViewData["Title"] = "Delete - Booking";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<h1 style="color: lawngreen;">Delete</h1>
@if (SignInManager.IsSignedIn(User) && User.Identity.Name == Model.Booking.Student)
{
    <h3>Are you sure you want to delete this?</h3>
    <div>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                Start Booking
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Start_Booking)
            </dd>
            <dt class="col-sm-2">
                End Booking
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.End_Booking)
            </dd>
            <dt class="col-sm-2">
                Title
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Title)
            </dd>
            <dt class="col-sm-2">
                Isbn
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Isbn)
            </dd>
            <dt class="col-sm-2">
                Student
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Booking.Student)
            </dd>
        </dl>

        <form method="post">
            <input type="hidden" asp-for="Booking.Id_Booking" />
            <button class="btn btn-danger"><i class='fa fa-remove'></i></button> |
            <a asp-page="./Index">Back to List</a>
        </form>
    </div>
}
else
{
    <hr />
    <div>
        <h6>You can remove only your reservations</h6>
        <a asp-page="./Index">Back to List</a>
    </div>
}
